---
import DeckDetailLayout from "@/layouts/DeckDetailLayout.astro";
import { DeckSettingsForm } from "@/components/decks/DeckSettingsForm";
import { DeleteDeckDialog } from "@/components/decks/DeleteDeckDialog";

const { deckId } = Astro.params;
const lang = Astro.locals.lang;
if (!deckId) {
  throw new Error("Deck ID is required");
}

// For now, we'll fetch the deck data client-side in the React components
// In a future step, we could pass server-fetched data as props
---

<DeckDetailLayout>
  <div class="max-w-2xl space-y-6">
    <DeckSettingsForm client:load deckId={deckId} lang={lang} />
    <div class="mt-12">
      <DeleteDeckDialog client:load deckId={deckId} lang={lang} />
    </div>
  </div>
</DeckDetailLayout>
